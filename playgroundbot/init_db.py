import sqlite3

def init_db():
    conn = sqlite3.connect('playground_bot.db')
    cursor = conn.cursor()

    # Таблица для пользователей
    cursor.execute('''
        CREATE TABLE IF NOT EXISTS users (
            id INTEGER PRIMARY KEY AUTOINCREMENT,
            chat_id INTEGER UNIQUE NOT NULL,
            username TEXT,
            first_name TEXT,  -- Имя пользователя
            last_name TEXT,   -- Фамилия пользователя
            city TEXT,        -- Город пользователя
            age INTEGER       -- Возраст пользователя
        )
    ''')

    # Таблица для запросов на связь с администратором
    cursor.execute('''
        CREATE TABLE IF NOT EXISTS contact_requests (
            id INTEGER PRIMARY KEY AUTOINCREMENT,
            chat_id INTEGER UNIQUE,
            timestamp DATETIME DEFAULT CURRENT_TIMESTAMP
        )
    ''')

    # Таблица для сообщений
    cursor.execute('''
        CREATE TABLE IF NOT EXISTS messages (
            id INTEGER PRIMARY KEY AUTOINCREMENT,
            chat_id INTEGER NOT NULL,
            message TEXT NOT NULL,
            sender TEXT NOT NULL,  -- 'user' или 'admin'
            timestamp DATETIME DEFAULT CURRENT_TIMESTAMP
        )
    ''')

    # Таблица для текста бота
    cursor.execute('''
        CREATE TABLE IF NOT EXISTS bot_texts (
            id INTEGER PRIMARY KEY AUTOINCREMENT,
            key TEXT UNIQUE NOT NULL,
            content TEXT NOT NULL
        )
    ''')

    cursor.execute('''
        CREATE TABLE IF NOT EXISTS bot_files (
            id INTEGER PRIMARY KEY AUTOINCREMENT,
            bot_text_key TEXT NOT NULL,  -- Связь с ключом из bot_texts
            file_name TEXT NOT NULL,
            file_type TEXT NOT NULL,  -- 'video', 'image', 'pdf', и т.д.
            FOREIGN KEY (bot_text_key) REFERENCES bot_texts(key)
        );
    ''')
    
    # Таблица для элементов меню
    cursor.execute('''
        CREATE TABLE IF NOT EXISTS menu_items (
            id INTEGER PRIMARY KEY AUTOINCREMENT,
            label TEXT NOT NULL,
            callback_data TEXT UNIQUE NOT NULL,
            response_type TEXT NOT NULL,  -- 'text', 'video', 'pdf'
            response_content TEXT NOT NULL
        )
    ''')

    cursor.execute(''' 
        CREATE TABLE IF NOT EXISTS categories (
            id INTEGER PRIMARY KEY AUTOINCREMENT,
            name TEXT NOT NULL UNIQUE
        )
    ''')

    cursor.execute('''
        CREATE TABLE IF NOT EXISTS user_categories (
            id INTEGER PRIMARY KEY AUTOINCREMENT,
            user_id INTEGER UNIQUE,
            category_id INTEGER,
            FOREIGN KEY(user_id) REFERENCES users(chat_id),
            FOREIGN KEY(category_id) REFERENCES categories(id)
        )
    ''')

    conn.commit()
    conn.close()

def populate_initial_data():
    conn = sqlite3.connect('playground_bot.db')
    cursor = conn.cursor()

    # Вставка начальных данных для текста бота
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('welcome_message', 'Привет, участник Молодежной редакции «Своими словами». Да, если ты на Площадке, значит ты уже часть нашего комьюнити ярких и талантливых авторов контента. А чтобы твоя жизнь на Площадке стала еще комфортнее, давай познакомимся поближе? '))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('welcome_1', 'Напиши свое имя с большой буквы. Напиши, пожалуйста, настоящее имя, не прозвище, не никнейм.'))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('welcome_2', 'А теперь фамилию. Тоже с большой буквы.'))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('welcome_3', 'Очень приятно познакомиться. Из какого ты города?'))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('welcome_4', 'Круто! Нам важно узнать, сколько тебе лет сейчас. Нам нужен честный ответ, чтобы мы могли правильно формировать рабочие команды и распределять темы.'))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('welcome_5', 'Спасибо за ответ. Можешь рассказать о своих интересах. О чем ты хочешь говорить и писать своими словами?'))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('welcome_6', 'И заключительный вопрос знакомства — в каком сезоне Чемпионата сочинений тебе удалось стать финалистом?'))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('welcome_7', 'Итак, о тебе мы узнали. А теперь ты сможешь познакомиться с первым человеком из состава редакции. Начнем?'))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('welcome_8', 'И первый полезный контакт, который ты приобретаешь на этом обучении — это главред Молодежной редакции Даша Гулина. Кстати, бот Площадка разговаривает именно ее словами.'))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('welcome_9', 'Первая твоя цель — пройти обучение на Площадке. Это стартовый курс для каждого участника редакции. \
                                                                                    Те, кто успешно справятся, получат контакт куратора и с его помощью станут стажерами редакции. По времени мы тебя не ограничиваем. \
                                                                                    Ты можешь все узнать и пройти тесты за пару дней, а можешь постепенно изучать материалы месяц или даже два, потому что мы приготовили много полезного для тебя.'))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('welcome_10', 'На Площадке тебя ждет 5 блоков важных материалов о работе в редакции. Все блоки пройдут в этом боте. \
                                                                                    В них войдут тексты, схемы, видео, чек-листы. После обучения в боте сохранятся все материалы, и ты всегда сможешь к ним вернуться. \
                                                                                    Либо можешь скачивать файлы или сохранять себе в избранное. Один момент – если будешь использовать эти файлы вне редакции, добавляй ссылку на нас. Это важно с точки зрения авторских прав.'))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('welcome_11', 'Блоки на Площадке: \
                                                                                    1. Домик. В нем ты узнаешь, как мы живем в редакции, как у нас все устроено. \
                                                                                    2. Песочница – это рассказ про редакционную политику и принципы нашей работы. В этом блоке будет много теории и правил, которые нужно запомнить или записать и пользоваться. \
                                                                                    3. Паутинка нужна тебе, чтобы понять, как мы работаем с текстами и научиться распутать любую тему, чтобы сделать из нее интересный контент. \
                                                                                    4. Качели – это то, что проходит каждый автор в работе с героями своих текстов: взрослыми экспертами или юными школьниками. Поэтому научимся с этим работать и быть готовыми ко всему. \
                                                                                    5. Горка поможет запустить свой контент в полет, а не спустить его в трубу. Поговорим о дистрибуции контента, то есть привлечении к нему внимания.'))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('welcome_12', 'Итак, мы подошли к началу обучения. Домик открывает свои двери. И первым делом тебе придет рассказ (видео с субтитрами) о структуре редакции и составе команды, на его изучение и осмысление понадобится не менее 5 минут. \
                                                                                    Если есть время сейчас — жми кнопку Начать обучение. Если хочешь сделать это позже — Начать позже.'))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('welcome_13', 'Отлично! Давай начнем обучение.'))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('welcome_14', 'Принято. Завтра напомним о себе. Хорошего тебе дня!'))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('start_first_block', 'Итак, твое первое видео на Площадке. Включай, внимательно смотри. Рекомендую завести заметку для обучения, \
                                                                                    чтобы записывать важные моменты, а также сохранять скрины презентаций и всегда держать их в близком доступе. \
                                                                                    Все, больше не отвлекаем. Приступай к изучению.'))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('first_block_1', 'Какая миссия у Молодежной редакции? \
                                                                                    1. Находить финалистам Чемпионата сочинений работу и первые проекты \
                                                                                    2. Прививать молодым авторам контента привычку говорить и писать своими словами \
                                                                                    3. Наполнять социальные сети и сайт Чемпионата сочинений интересным контентом '))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('first_block_2', 'Второе видео этого блока посвящено внутренней системе репутации в редакции — плюсам и минусам в карме, \
                                                                                    а также их влиянию на путь автора. Раздел важный, не пропусти информацию о том, как расти в редакции.'))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('first_block_3', 'Какой порядок ролей в редакции верный? \
                                                                                    1. Участник, автор, ответственный, куратор \
                                                                                    2. Участник, стажер, автор, ответственный, куратор \
                                                                                    3. Стажер, участник, ответственный, автор, куратор'))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('first_block_4', 'Сколько плюсов в карму может получить стажер за качественную работу в команде освещения мероприятия (например, ассистентом автора)?'))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('first_block_5', 'Заключительное видео этого блока посвящено коммуникации в редакции. Где мы общаемся, как мы это делаем \
                                                                                    и что важно знать про нашу корпоративную культуру. Сделаем оговорку, что в течение сезона что-то может поменяться, \
                                                                                    поэтому могут быть приятные сюрпризы.'))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('first_block_6', 'Какая задача у команды авторов и стажеров, собираемой для интервью в рамках проекта «Запишем»? \
                                                                                    1. Проработать интересные редакции темы и подобрать под них варианты спикеров \
                                                                                    2. Подобрать варианты интересных спикеров под заявленную тему и организовать запись интервью \
                                                                                    3. Придумать, какой контент будет интересно создать по итогам интервью, и сделать его'))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('first_block_final', 'Супер, первый блок Площадки пройден. Поздравляем тебя. Сейчас перейдем ко второму блоку или нужен перерыв?'))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('start_second_block', 'Начнем с вопроса. Без чего, на твой взгляд, не может работать редакция?'))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('second_block_1', 'Спасибо за твой ответ! На этот вопрос нет одного правильного варианта, редакции нужно многое для работы. \
                                                                                    Одна из этих вещей — редакционная политика. О ней и поговорим в этом блоке. Спойлер: нужно будет много читать и запоминать. \
                                                                                    Записывать еще полезнее.'))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('second_block_2', 'Как сделать хаотичный мир более структирированным и четким? Например, добавить в него систему и правила жизни. Наша редакция так и работает, поэтому в самом начале пути погружаем тебя в наши правила, а именно редакционную политику. \
                                                                                    Итак, редакционная политика. Этот документ, регламентирующий правила работы команды, которая создает какой-либо контент. \
                                                                                    Зачем он нужен? Чтобы все многообразие творческих стилей и форматов восприятия мира наших авторов и редакторов соответствовало принятым в команде стандартам. Мы – единый коллектив, и чтобы мы не были персонажами басни, где все тянут воз в разные стороны, у нас есть документ, который говорит куда его тянуть и каким образом.  \
                                                                                    «А это зачем нужно? Мы же творим не по шаблону!», – скажет участник Чемпионата сочинений.  \
                                                                                    Мы не загоняем никого в шаблоны и не заставляем писать сочинений с аргументами из литературы и только его. Мы задаем условия работы, которые есть всегда. Даже на Чемпионате сочинений у вас есть задание, целевая аудитория вашего текста и другие критерии. На этом моменте остановимся поподробнее и обратимся к понятию формата. \
                                                                                    Формат – стандарт, имеющий измеримые критерии. Формат бумаги, видео, книги – это соотношение сторон в определенной системе измерений (пиксели, сантиметры). Формат телешоу (название, сценарные элементы, фишки, визуальные узнаваемые элементы). Формат статей (стиль заголовка, структура текста, объем текста) \
                                                                                    Формат структурирует деятельность, ставит определенную рамку для работы, но не загоняет всех в единый скучный шаблон. Например, челленджи, флешмобы, тренды в вертикальных видео. Это форматы, имеющие измеримые узнаваемые критерии (музыка, движения, костюмы и т.д.) Но при этом каждый автор, действуя в заданных рамках, находит свои фишки, добавляет свой стиль и в выигрыше остается тот, кто в имеющихся обстоятельствах находит возможность выделиться. \
                                                                                    Например, тренд с енотом под музыку Педро-Педро. Сколько разных вариаций мы видели от подстановок готового видео к своему контенту, чтобы объяснить что-то. До классной ветки тренда, когда люди начали снимать своих животных. И завершая большими рекламными роликами от крупных брендов. \
                                                                                    Так и в жизни очень редко бывает обстановка полной свободы, где нет никаких рамок и правил. А в работе тем более. Поэтому наша редакционная политика и правила, зафиксированные в ней – твоя стартовая площадка, чтобы развить навык работы в заданных условиях. \
                                                                                    Надеюсь, что мы смогли вселить в тебя уверенность, что редакционная политика – не враг. А теперь пройди тест, и мы перейдем уже к нашему документу и стандартам работы. '))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('second_block_3', 'Зачем нужна редакционная политика? \
                                                                                    1. Чтобы авторы и редакторы не перебарщивали с авторским стилем при создании контента \
                                                                                    2. Чтобы не было вопросов, кто в редакции главный \
                                                                                    3. Чтобы команда работала как единый механизм и двигалась в одну сторону'))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('second_block_4', 'Базу мы изучили, но в каждом медиа свои правила работа и редакционная политика может значительно отличаться. Например, в этой подборке представлены разные редполитики известных медиапроектов и СМИ. Их интересно почитать, сравнить, а может быть, и почерпнуть что-то полезное для себя. А о том, какие принципы редакционной политики самые главные у нас расскажем прямо из Песочницы.'))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('second_block_5', 'Что означает принцип по фактам? \
                                                                                    1. Что каждый текст создается на основе научных данных \
                                                                                    2. Что информацию нужно проверять и использовать 3 источника \
                                                                                    3. Что при создании большой статьи нельзя обойтись без вставки «это факт»'))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('second_block_6', 'Да, мы работаем по фактам, чтобы читатель получал только проверенную информацию. Приготовься ответить на следующий вопрос. \
                                                                                    \
                                                                                    Что означает принцип красиво? \
                                                                                    1. Автор должен следить за своим внешним видом и приходить на интервью уместно одетым \
                                                                                    2. Чтобы получить больше плюсов в карму за созданный контент, нужно получить от главред оценку «красиво» \
                                                                                    3. Каждый текст должен соответствовать единым правилам оформления'))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('second_block_pre_final', 'А чтобы все то, что мы изучили в этом блоке, иметь под рукой, делимся ссылкой на нашу редакционную политику. Обязательно прочитай все блоки, сохраняй себе и всегда используй в работе. Кстати, наши правила применимы не только в редакции, но и в работе с другими проектами тоже. Например, писать грамотно, красиво, по фактам и своими словами важно редактору любого СМИ и медиа-проекта.'))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('second_block_final', 'На этом второй блок Площадки завершен, давай решим начинаем третий блок или сделаем паузу?'))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('start_third_block', 'Начинающие авторы часто повторяют одни и те же ошибки при работе с текстами. Все из-за нехватки обратной связи и опыта. Мы знаем, как тяжело начать писать. Поэтому в этом блоке собрали наш опыт работы и материалы для молодых авторов — это поможет начать работу с текстами.'))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('third_block_1', 'Что обязательно нужно принести выпускающему редактору на согласование вместе с идеей темы текста? \
                                                                                    1. План текста \
                                                                                    2. Предварительное мини-интервью с экспертом \
                                                                                    3. Историю личного опыта на эту тему'))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('third_block_2', 'Итак, поехали дальше. Теперь поговорим про то, какой же может быть структура текста. Структура упорядочит мысли и поможет из хаоса сделать аккуратную и логичную статью. Если у текста понятная структура, его удобно и интересно читать. Если структура не продумана, события пляшут во времени, если в тексте каша из фактов, то он выглядит сложно и читается тяжело. \
                                                                                    Если делить глобально, то структура текста бывает параллельной и последовательной. Какую выбрать, зависит от того, о чем вы рассказываете в тексте.\
                                                                                    \
                                                                                    📌 **Последовательная**\
                                                                                    В этой структуре модули вытекают один из другого. По этой структуре пишется больше всего текстов — лендинги, инструкции, тексты о компании и о продуктах, отчеты о путешествиях. В общем, все, где надо последовательно рассказать о чем-то. \
                                                                                    Например: \
                                                                                    - Как все начиналось в молодежной редакции \
                                                                                    - Как мы готовились к первому набору авторов \
                                                                                    - Истории команды и участников первого потока о том, как же это было \
                                                                                    - Что мы узнали по итогам первого года работы\
                                                                                    - Наши выводы\
                                                                                    Каждый модуль вытекает из предыдущего, все модули связаны между собой, нельзя прочитать части текста в произвольном порядке: потеряется логика.\
                                                                                    📌 **Параллельная**\
                                                                                    В параллельной структуре все модули равнозначны: каждый можно прочесть отдельно и его смысл будет понятен. По такой структуре чаще всего пишут подборки и обзоры. \
                                                                                    - Выбираем приложение для трекинга задач\
                                                                                    - Notion\
                                                                                    - Trello\
                                                                                    - Week\
                                                                                    - Яндекс Трекер\
                                                                                    Можно запросто сначала прочитать про Week, а потом только про Notion — большой разницы не будет.\
                                                                                    **Еще один полезный принцип – объяснять от простого к сложному**\
                                                                                    Если нужно познакомить читателя с чем-то новым, сперва это надо объяснить. Объясняйте термины по цепочке — от простого к сложному: Что такое олимпиада → зачем она нужна → куда школьники поступают с ее помощью → как можно принять участие. Если по шагам объяснить все, что читатель должен знать, дискомфорта у него не возникнет. А еще так больше шансов, что он дочитает текст и сделает то, чего вы от него хотите, ведь его интерес будут подогревать подзаголовки, постепенно раскрывающие тему.\
                                                                                    **И не забывай добавлять примеры в свой текст.** Они помогают нарисовать картинку в голове читателя и делают текст живым и образным. Хороший пример читатель может применить к своей жизни и ему будет проще понять смысл. Подбирай такие примеры, которые могли бы случиться с твоей целевой аудиторией. \
                                                                                    - **Хороший пример для широкой аудитории: «Т**кань в этой куртке очень прочная и быстро сохнет — если попасть под дождь и насквозь вымокнуть, хватит трех часов, чтобы куртка полностью просохла.\
                                                                                    - **Локальный пример.** «Эта ткань настолько прочная, что может прослужить 10 лет в качестве обивки матов в любом школьном спортзале». Если пишешь для школьников – они смогут прикинуть, какая нагрузка на уроке физкультуры приходится на маты. Но взрослым будет сложнее это сделать.'))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('third_block_3', 'Какой план текста соответствует параллельной структуре? \
                                                                                    1. Почему люди смеются? Какая польза от смеха? Что такое смех? \
                                                                                    2. Каких животных безопасно держать дома? Кошки. Собаки. Хомяки. Черепахи. \
                                                                                    3. Кто такие веб-дизайнеры? Почему их работа нужна? Сколько они получают в месяц?'))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('third_block_4', 'Иногда кажется, что тему для контента придумать невозможно: она или просто не приходит в голову, или кажется, что обо всём уже рассказали. В гайде мы подобрали 8 универсальных способов генерации идей — они помогут быстро придумать тему для поста или статьи. Сохраняй себе и используй в работе. '))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('third_block_final', 'На этом третий блок Площадки завершен, давай решим начинаем четвертый блок или сделаем паузу? '))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('start_fourh_block', 'Знаете чего чаще всего боятся авторы в молодежной редакции? Созваниваться с героями, а особенно взрослыми экспертами и задавать вопросы. В этот момент в голове автора борются страх, тревожность, синдром самозванца и множество других эмоций, которые мешают получить удовольствие от разговора с интересным человеком. Как с ними бороться? На самом деле, никак. Даже самые опытные журналисты могут волноваться перед важными интервью. На этом можно было бы закончить этот блок, но мы попробуем подсказать тебе, как сделать так, чтобы эмоции не мешали сделать свою работу хорошо. \
                                                                                    \
                                                                                    **Первое правило.** \
                                                                                    Чтобы эмоции не смогли помешать – нужно довести свои навыки практически до автоматизма. Так готовятся к соревнованиям спортсмены, оттачивая свое мастерство. В нашем случае, чтобы трясущийся голос не помешал задать подготовленный заранее интересный вопрос, и не потеряться во время интервью, мы будем много практиковаться, смотреть, как другие проводят интервью, проводить тренировочные интервью, работать в разных форматах, чтобы для каждого автора в редакции задача подойти к человеку на мероприятии и задать вопрос была очень легкой. \
                                                                                    \
                                                                                    **Второе правило.** \
                                                                                    Не сдаваться под гнетом страха. Можно сесть дома, обхватить коленки и не прийти не интервью, потому что очень страшно. А можно собрать себя в кучку, и честно признаться, что тебе страшно. А еще можно сказать эксперту, что это одно из первых твоих интервью, поэтому ты немного волнуешься. Это поможет снять градус напряжения. Кстати, вполне возможно, что твой спикер, особенно если он школьник, и это его первое интервью, тоже находится в стрессе. Принятие эмоций поможет вам найти баланс гораздо быстрее и относиться с пониманием друг к другу. \
                                                                                    \
                                                                                    **Третье правило**. \
                                                                                    Не накручивать себя, а учиться. На старте важно помнить – каждый опытный журналист с чего-то начинал и делал ошибки. Всегда держи это в голове, когда будешь загоняться перед интервью или во время работы над правками редактора. Критиковать себя – непродуктивная трата времени. А вот вести дневник автора и записывать туда свои выводы – это крутой формат для профессионального роста. А еще спустя пару лет тебе будет очень интересно прочитать, с чего все начиналось. \
                                                                                    \
                                                                                    После того, как все успокоились и готовы, можно начинать работу. А как это сделать, мы поделимся в этом блоке нашей Площадки. С чего стартует работа с экспертом? Какие правила хорошего тона важно соблюдать? Почему нужно быть немного экстрасенсом и написать больше вопросов, чем планируешь задать?'))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('fourh_block_1', 'Какое правило хорошего тона нужно помнить при работе с героем? \
                                                                                    1. Общаться с героем на вы, даже если он попросил перейти на ты \
                                                                                    2. Попросить героя рассказать о себе перед началом интервью \
                                                                                    3. Включать запись интервью только после согласия героя'))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('fourh_block_2', 'После того, как большое интервью или короткий разговор с экспертом проведены, работа только начинается. В момент расшифровки разговорной речи в текст или монтажа итогового видео можно как улучшить материал, так и сделать из потенциально ярких цитат, которые разлетятся в соцсетях, скучный набор фактов. Поэтому в работе над контентом на этап расшифровки и постпродакшена нужно закладывать не меньше недели, а иногда и больше. \
                                                                                    После того как интервью взято хочется расслабиться и отложить все на день перед дедлайном. Не надо делать эту ошибку. Впереди еще много работы. Даже больше, чем уже проделано. Чтобы тебе было проще пройти этот этап, мы подготовили памятку по работе с экспертными комментариями, после того, как они взяты. Скачивай и держи под рукой во время работы, чтобы правильно рассчитать время и не срывать дедлайн сдачи.'))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('fourh_block_3', 'Что не нужно переносить из расшифровки в итоговый текст? \
                                                                                    1. Эмоциональные фразы, смешные выражения, паузы в ответах \
                                                                                    2. Смысловые повторения, эканья, слова-паразиты \
                                                                                    3. Просторечные выражения, сложная профессиональная лексика'))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('fourh_block_final', 'На этом четвертый блок Площадки завершен, давай решим начинаем пятый блок или сделаем паузу?'))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('start_fifth_block', 'После того, как контент публикуют в интернете или выпускают на оффлайн-площадках, его жизнь только начинается. Он может стать виральным (просматриваемым и распространяемым) и приносить просмотры спустя годы после выхода. А может исчезнуть из ленты пользователей на следующий день. В этом блоке ты узнаешь о том, что на это влияет, подумаешь, как сделать свой контент популярнее, а не слить его вниз как на горке. \
                                                                                    Каждому автору важно держать в голове принцип – даже самая крутая статья сама себя не сделает популярной. Даже если мы соберем в тексте очень много популярных экспертов и яркие фразы, без дистрибуции об этом тексте, опубликованном в интернете, никто не узнает. \
                                                                                    \
                                                                                    **Дистрибуция контента** – это доставка контента до конечного потребителя через разные каналы: от соцсетей до SEO. Выпускать контент без дистрибуции — это все равно что писать в стол. А проводить хаотичную дистрибуцию без стратегии – это как пускать салют днем, вроде сделали все как надо, а эффект не тот.  \
                                                                                    \
                                                                                    **Важные аспекты дистрибуции контента**\
                                                                                    \
                                                                                    1. **Выбор каналов.** Одним из первых шагов в дистрибуции контента является выбор подходящих каналов. Это могут быть веб-сайты, блоги, социальные сети, электронная почта, оффлайн-площадки, видеохостинги, платформы для публикации статей, аудио-подкасты и другие. Выбор зависит от типа контента и интересов вашей целевой аудитории.\
                                                                                    2. **Оптимизация контента.** Контент должен быть оптимизирован под разные каналы. Например, контент для социальных сетей может быть кратким и визуально привлекательным, в то время как контент для блога может быть более подробным и информационным.\
                                                                                    3. **Расписание и частота.** Определите, как часто и когда будете публиковать контент на выбранных площадках. Регулярность важна для удержания внимания аудитории.\
                                                                                    4. **Анализ и оптимизация.** Оценивайте результаты дистрибуции контента. Изучайте, какие каналы и виды контента наиболее эффективны, и оптимизируйте свою стратегию на основе полученных данных для следующих публикаций.'))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('fifth_block_1', 'Как ты опишешь своими словами, что такое дистрибуция?\
                                                                                    1. Это способы увеличивать свою насмотренность и креативность\
                                                                                    2. Правила создания текстов, которые сделают их популярными\
                                                                                    3. Набор каналов, в которых будет размещаться контент'))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('fifth_block_2', 'Прежде всего понять какие вообще существуют каналы дистрибуции — доступные площадки, где можно разместить контент. В гайде мы разобрали типы площадок и показатели, которые важно измерять, чтобы оценить успешность. А в чек-листе дистрибуции добавили доступные каналы для авторов редакции, чтобы тебе проще строить процесс создания плана раскрутки твоего контента. Изучи и сохрани себе.'))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('fifth_block_3', 'Важно понимать, что это именно примеры площадок, а не ограниченный список. Когда ты будешь создавать свой контент – включай креатив и ищи новые возможности. При составлении стратегии дистрибуции важно понимать, что в разных каналах работают разные подходы. То, что будет хорошо смотреться в вертикальном видео (короткие фразы, быстрый монтаж) совсем не подойдет для почтовой рассылки и наоборот (больше текста, кликабельные ссылки). Поэтому при упаковке контента создается несколько креативов – вариантов упаковки изначального контента. А иногда даже несколько вариантов для одного типа площадок, чтобы проверить, какой работает лучше. \
                                                                                    \
                                                                                    Например, это набор креативов длят одной из Олимпиад Вышки для контекстной и таргетированной рекламы. Мы всегда делаем несколько разных баннеров, чтобы привлечь внимание бОльшей аудитории. Ведь разных людей можно зацепить разными словами. '))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('fifth_block_4', 'Что нельзя отнести к массовым каналам дистрибуции контента?\
                                                                                    1. Телеграм-канал про котиков\
                                                                                    2. Плакат на школьной доске\
                                                                                    3. Большой баннер на трассе М2\
                                                                                    4. Нет верного ответа'))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('fifth_block_5', 'Удобно то, что вне зависимости от масштаба команды и бренда все работают с одними типами каналов. Поэтому даем тебе подборку профессиональных каналов, где можно смотреть яркие кейсы, чтобы повысить насмотренность и найти для себя ролевые модели, к которым можно и нужно стремиться. Дисклеймер: мы существуем в субъективном мире, поэтому кейсы, рассмотренные в каналах – не единственные классные примеры. А также эти же кейсы могут кому-то не нравиться. Твоя задача – увидеть, услышать мнение, проанализировать и сформировать свою позицию, основанную не только на субъективном и эмоциональном восприятии, но и на объективных данных. \
                                                                                    Подборка каналов про дистрибуцию контента с рекламными кейсами и маркетинг от разных брендов: \
                                                                                    \
                                                                                    @TrendMediaChannel\
                                                                                    \
                                                                                    @zapadnoe\
                                                                                    \
                                                                                    @Godketing\
                                                                                    \
                                                                                    @popsmarketing\
                                                                                    \
                                                                                    @sostav\
                                                                                    \
                                                                                    @whoisdutytoday\
                                                                                    \
                                                                                    @GuerrillaMarketing\
                                                                                    \
                                                                                    @lider'))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('fifth_block_final', 'Изучи каналы, можешь один или все, и поделись своим мнением, что тебе запомнилось больше всего из кейсов? Что запомнишь и будешь использовать для продвижения своего контента? Рекомендуем потратить на этот вопрос пару часов или даже дней и детально изучить информацию.'))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('start_finish', 'Спасибо тебе за этот ответ. А теперь нам очень важно узнать твое мнение по итогам всего курса. Да, умение давать конструктивный фидбек – тоже часть работы в команде. Поэтому мы его включили в обязательные блоки вводного образовательного курса.\
                                                                                    Пройдя весь курс, какую информацию ты назовешь самой полезной для тебя? '))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('finish_1', 'А что было неинтересно и ненужно, на твой взгляд?'))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('finish_2', 'Что еще тебе хотелось бы узнать?'))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('finish_3', 'После этого курса ты хочешь стать автором Молодежной редакции и нарабатывать опыт и яркие кейсы в свое портфолио?'))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('finish_4', 'А это поле для свободного фидбека руководителям редакции. Можно написать, что чувствуешь после прохождения курса. Это заключительный вопрос для сбора фидбека.'))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('finish_final_1', 'Урааааа! Теперь вводный образовательный курс в Молодежную редакцию завершен. Поздравляем и очень гордимся!'))
    cursor.execute("INSERT OR IGNORE INTO bot_texts (key, content) VALUES (?, ?)", ('finish_final_2', 'Если ты хочешь стать частью редакции, тебе нужно написать куратору стажеров – Нике в Телеграм. Представься, скажи, что у тебя завершилось обучение на Площадке и ты хочешь стать стажером Молодежной редакции. Ника тебе все расскажет. \
                                                                                    \
                                                                                    А этот бот не выключай, во-первых, в нем много полезных материалов, к которым ты можешь вернуться, а, во-вторых, через него мы будем сообщать об интересных проектах редакции и о доступном новом обучении. Очень рады, что ты с нами! Обнимаем и ждем в чате редакции.'))

    
    # Вставка начальных данных для меню
    menu_items = [
        ('Связаться с администратором', 'contact_admin', 'text', 'Пожалуйста, подождите, администратор свяжется с вами в ближайшее время.')
    ]

    for label, callback_data, response_type, response_content in menu_items:
        cursor.execute("INSERT OR IGNORE INTO menu_items (label, callback_data, response_type, response_content) VALUES (?, ?, ?, ?)",
                       (label, callback_data, response_type, response_content))

    conn.commit()
    conn.close()

def move_data():
    conn = sqlite3.connect('playground_bot.db')
    cursor = conn.cursor()


    # Перенос данных из старой таблицы в новую
    cursor.execute('''
        INSERT INTO user_categories (user_id)
        SELECT chat_id
        FROM users
    ''')

    # Проверка на успешность операции (опционально)
    conn.commit()

    # Закройте соединение
    conn.close()

if __name__ == '__main__':
    init_db()
    populate_initial_data()
